const Speech={greeting:["Hello!","How are you?","It's good to see you"],pronoun:["I","you","he","they","we","she","them","him","her","something","nothing","anything","himself","everything","someone","themselves","everyone","itself","anyone","myself"],adjective:["other","new","good","high","old","great","big","American","small","large","national","young","different","black","long","little","important","political","bad","white","real","best","right","social","only","public","sure","low","early","able","human","local","late","hard","major","better","economic","strong","possible","whole","free","military","true","federal","international","full","special","easy","clear","recent","certain","personal","open","red","difficult","available","likely","short","single","medical","current","wrong","private","past","foreign","fine","common","poor","natural","significant","similar","hot","dead","central","happy","serious","ready","simple","left","physical","general","environmental","financial","blue","democratic","dark","various","entire","close","legal","religious","cold","final","main","green","nice","huge","popular","traditional","cultural"],verb:["be","have","do","say","go","can","get","would","make","know","will","think","take","see","come","could","want","look","use","find","give","tell","work","may","should","call","try","ask","need","feel","become","leave","put","mean","keep","let","begin","seem","help","talk","turn","start","might","show","hear","play","run","move","like","live","believe","hold","bring","happen","must","write","provide","sit","stand","lose","pay","meet","include","continue","set","learn","change","lead","understand","watch","follow","stop","create","speak","read","allow","add","spend","grow","open","walk","win","offer","remember","love","consider","appear","buy","wait","serve","die","send","expect","build","stay","fall","cut","reach","kill","remain"],noun:["time","year","people","way","day","man","thing","woman","life","child","world","school","state","family","student","group","country","problem","hand","part","place","case","week","company","system","program","question","work","government","number","night","point","home","water","room","mother","area","money","story","fact","month","lot","right","study","book","eye","job","word","business","issue","side","kind","head","house","service","friend","father","power","hour","game","line","end","member","law","car","city","community","name","president","team","minute","idea","kid","body","information","back","parent","face","others","level","office","door","health","person","art","war","history","party","result","change","morning","reason","research","girl","guy","moment","air","teacher","force","education"],adverb:["up","so","out","just","now","how","then","more","also","here","well","only","very","even","back","there","down","still","in","as","to","when","never","really","most","on","why","about","over","again","where","right","off","always","today","all","far","long","away","yet","often","ever","however","almost","later","much","once","least","ago","together","around","already","enough","both","maybe","actually","probably","home","of course","perhaps","little","else","sometimes","finally","less","better","early","especially","either","quite","simply","nearly","soon","certainly","quickly","no","recently","before","usually","thus","exactly","hard","particularly","pretty","forward","ok","clearly","indeed","rather","that","tonight","close","suddenly","best","instead","ahead","fast","alone","eventually","directly"],structures:["subject-verb","subject-verb-object","subject-verb-adjective","subject-verb-adverb","subject-verb-noun"]};window.onload=function(){function e(e){return Math.floor(Math.random()*e)}function t(e,t){return 1e3*Math.floor(Math.random()*(t-e+1)+e)}function n(){let t=Speech.structures[e(Speech.structures.length)].split("-"),n="";for(let a=0;a<t.length;a++){switch(t[a]){case"verb":n+=Speech.verb[e(Speech.verb.length)];break;case"adjective":n+=Speech.adjective[e(Speech.adjective.length)];break;case"adverb":n+=Speech.adverb[e(Speech.adverb.length)];break;case"subject":n+=Speech.pronoun[e(Speech.pronoun.length)],n+=" ",n+=Speech.noun[e(Speech.noun.length)];break;case"object":case"noun":n+=Speech.noun[e(Speech.noun.length)]}n+=" "}return n}const a=document.getElementById("messages").shadowRoot.children[1];a.dispatchEvent(new CustomEvent("message",{detail:{value:Speech.greeting[e(Speech.greeting.length)]}})),setTimeout(function e(){a.dispatchEvent(new CustomEvent("message",{detail:{value:n()}})),setTimeout(e,t(10,15))},t(10,15))};const messageContainerTemplate=document.createElement("template");messageContainerTemplate.innerHTML="\n\t<style>\n\t.container {\n\t\twidth: 25em;\n\t\theight: 46em;\n\t\tmargin: 0 auto;\n\t\tborder: 2px solid #E5E4EA;\n\t\tbackground-color: #E5E4EA;\n\t}\n\t.header{\n\t\tpadding: 5px;\n\t\theight: 60px;\n\t\tcontent: ' ';\n\t\tposition: relative;\n\t\tbox-shadow: 0 2px 4px rgba(0,0,0,0.15);\n\t}\n\t.phone-info {padding: 5px;}\n\t.phone-info span {\n\t\tmargin: 5px;\n\t\tdisplay: inline;\n\t\tfont-size: 14px;\n\t}\n\t.message-info {padding: 5px;}\n\t.phone-info .time {margin: 26%;}\n\t.phone-info .battery {margin-left: 10px;}\n\t.message-info span {\n\t\tmargin: 5px;\n\t\tdisplay: inline;\n\t\tfont-size: 14px;\n\t}\n\t.message-info .messages {\n\t\tpadding-left: 20px;\n\t\tpadding-right: 20px;\n\t\tbackground-size: 18px;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-image: url('https://jakeparham.com/projects/iMessage/assets/icons/back.svg')\n\t}\n\t.message-info .recipient {\n\t\tmargin: 28%;\n\t\tfont-size: 18px;\n\t\tfont-weight: bold;\n\t}\n\t.message-container{\n\t\tpadding: 5px;\n\t\theight: 56%;\n\t\toverflow: scroll;\n\t\tbackground-color: white;\n\t}\n\t</style>\n";class MessageContainer extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(messageContainerTemplate.content.cloneNode(!0))}connectedCallback(){const e=EL("div",{classList:["header"],children:[EL("div",{classList:["phone-info"],children:[EL("span",{classList:["carrier"],innerHTML:"AT&T LTE"}),EL("span",{classList:["time"],innerHTML:function(){const e=new Date;let t=e.getHours(),n=e.getMinutes();n<10&&(n="0"+n);let a="AM";return t>12&&(t-=12,a="PM"),`${t}:${n} ${a}`}()}),EL("span",{classList:["battery"],innerHTML:"86%"})]}),EL("div",{classList:["message-info"],children:[EL("span",{classList:["messages"]}),EL("span",{classList:["recipient"],innerHTML:"Stranger"})]})]}),t=EL("div",{classList:["message-container"]});let n=this;for(n.messageList=[],n.container=EL("div",{classList:["container"],events:{message:e=>{for(n.messageList.push({msg:e.detail.value,sender:e.detail.sender});t.firstChild;)t.removeChild(t.firstChild);for(let e=0;e<n.messageList.length;e++){var a=document.createElement("div",{is:"text-bubble"});a.message=n.messageList[e].msg,a.sender=n.messageList[e].sender,t.append(a)}t.scrollTop=t.scrollHeight}},children:[e,t]});this.firstChild;)n.container.appendChild(this.firstChild);this.shadowRoot.appendChild(n.container),this.shadowRoot.addEventListener("message",this)}}customElements.define("message-container",MessageContainer);const keyboardTemplate=document.createElement("template");keyboardTemplate.innerHTML="\n\t<style>\n\t\t.message-input {\n\t\t\twidth:100%;\n\t\t\tposition: relative;\n\t\t\tbackground-color: #F7F7F7;\n\t\t}\n\t\t.message-input div { display: inline; }\n\t\t.message-input textarea {\n\t\t\twidth: 90%;\n\t\t\tmargin: 5px;\n\t\t\tpadding: 8px;\n\t\t\theight: 15px;\n\t\t\tmargin-left: 4%;\n\t\t\tresize: vertical;\n\t\t\toverflow: visible;\n\t\t\tborder-radius: 15px;\n\t\t\tcaret-color: #007EFF;\n\t\t\tborder: 1px solid #EBEBEB;\n\t\t}\n\t\t.message-input .send-btn {\n\t\t\tcolor: white;\n\t\t\tmargin-top: 6px;\n\t\t\tmargin-left: 90%;\n\t\t\tposition: absolute;\n\t\t\tpadding: 20px;\n\t\t\tbackground-size: 30px;\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbackground-image: url('https://jakeparham.com/projects/iMessage/assets/icons/send.svg')\n\t\t}\n\t\t.keyboard {padding: 5px; padding-top: 15px;}\n\t\t.message-input textarea:focus {outline: none;}\n\t\t.key-top{margin-left: 15px;}\n\t\t.key-mid-top {margin-left: 40px; margin-top: 30px;}\n\t\t.key-mid-bot {margin-left: 15px; margin-top: 30px;}\n\t\t.key-bot {margin-left: 15px;margin-top: 30px;}\n\t</style>\n";class Keyboard extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(keyboardTemplate.content.cloneNode(!0))}connectedCallback(){let e=this;const t=EL("textarea",{placeholder:"iMessage",disabled:!0}),n=EL("div",{classList:["send-btn"],events:{click:n=>{""!=t.innerHTML&&(e.dispatchEvent(new CustomEvent("message",{detail:{value:t.innerHTML,sender:"self"},bubbles:!0})),t.innerHTML="")}}}),a=EL("div",{classList:["keyboard"]});for(;this.firstChild;)a.appendChild(this.firstChild);const s=a.getElementsByTagName("key-button"),i=EL("div",{classList:["message-input"],children:[n,EL("div",{children:[t]})]});this.container=EL("div",{events:{"keybutton-click":e=>{if(t.innerHTML+=e.detail.value,e.detail.value==e.detail.value.toUpperCase())for(let e=0;e<s.length;e++)s[e].dispatchEvent(new CustomEvent("ctrl-click"))},"actionkey-click":e=>{let n=e.detail.value,a=t.innerHTML;switch(n){case"ctrl":for(let e=0;e<s.length;e++)s[e].dispatchEvent(new CustomEvent("ctrl-click"));break;case"num":for(let e=0;e<s.length;e++)s[e].dispatchEvent(new CustomEvent("num-click"));break;case"back":a=a.slice(0,-1);break;case"space":a+=" ";break;case"return":a+="\n"}t.innerHTML=a}},children:[i,a]}),this.shadowRoot.appendChild(this.container)}}customElements.define("key-board",Keyboard);const keyButtonTemplate=document.createElement("template");keyButtonTemplate.innerHTML="\n  <style>\n\t.key-btn{\n\t\tpadding: 10px;\n\t\tcursor: pointer;\n\t\ttext-align: center;\n\t\tborder-radius: 8px;\n\t\tbackground-color:white;\n\t\tbox-shadow: 0 2px 4px rgba(0,0,0,0.15);\n\t}\n\t.ctrl-btn {\n\t\tmargin-right: 14px;\n\t\tpadding-right: 25px;\n\t\tbackground-size: 30px;\n\t\tbackground-position: center;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-image: url('https://jakeparham.com/projects/iMessage/assets/icons/arrow-up.png');\n\t}\n\t.back-btn {\n\t\tmargin-left: 14px;\n\t\tpadding-left: 25px;\n\t\tpadding-right: 25px;\n\t\tbackground-size: 30px;\n\t\tbackground-position: center;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-image: url('https://jakeparham.com/projects/iMessage/assets/icons/backspace.png');\n\t}\n\t.grey-btn {background-color: #ACB5BC;}\n\t.aux-btn {padding-left: 20px; padding-right: 20px;}\n\t.space-btn {padding-left: 80px; padding-right: 80px; }\n  </style>";class KeyButton extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(keyButtonTemplate.content.cloneNode(!0))}connectedCallback(){if(this.key=document.createElement("span"),this.shadowRoot.appendChild(this.key),this.style.display="inline-block",this.attributes.action)switch(this.attributes.action.value){case"ctrl":this.key.classList.add("ctrl-btn");break;case"back":this.key.classList.add("back-btn","grey-btn");break;case"num":this.key.classList.add("aux-btn","grey-btn");break;case"space":this.key.classList.add("space-btn");break;case"return":this.key.classList.add("aux-btn","grey-btn")}this.key.classList.add("key-btn"),this.addEventListener("click",this.__onClick),this.addEventListener("ctrl-click",this.__ctrlClick),this.addEventListener("num-click",this.__numClick),this.__changeInnerHTML("up")}disconnectedCallback(){this.removeEventListener("click",this.__onClick),this.removeEventListener("ctrl-click",this.__ctrlClick),this.removeEventListener("num-click",this.__numClick)}__ctrlClick(e){"up"==this.currentKey?this.__changeInnerHTML("low"):"low"==this.currentKey?this.__changeInnerHTML("up"):"num"==this.currentKey?this.__changeInnerHTML("alt"):"alt"==this.currentKey&&this.__changeInnerHTML("num")}__numClick(e){"up"==this.currentKey||"low"==this.currentKey?this.__changeInnerHTML("num"):this.__changeInnerHTML("up")}__changeInnerHTML(e){this.attributes[e]&&(""==this.attributes[e].value?this.key.style.visibility="hidden":(this.key.style.visibility="visible",this.key.innerHTML=this.attributes[e].value),this.currentKey=e)}__onClick(e){this.attributes.action?this.dispatchEvent(new CustomEvent("actionkey-click",{detail:{value:this.attributes.action.value},bubbles:!0})):this.dispatchEvent(new CustomEvent("keybutton-click",{detail:{value:this.key.innerHTML},bubbles:!0}))}}customElements.define("key-button",KeyButton);const bubbleTemplate=document.createElement("template");bubbleTemplate.innerHTML="\n\t<style>\n\t\t.bubble {\n\t\t\twidth: fit-content;\n\t\t\theight: fit-content;\n\t\t\tmargin: 2px;\n\t\t\tpadding: 10px;\n\t\t\tmax-width: 50%;\n\t\t\tfont-size: 14px;\n\t\t\tborder-radius: 18px;\n\t\t\twhite-space: pre-line;\n\t\t\tbox-shadow: 0 2px 4px rgba(0,0,0,0.15);\n\t\t\tword-wrap: break-word;\n\t\t}\n\t\t.bubble-right{float: right;}\n\t\t.txt-white {color: #FFFFFF;}\n\t\t.txt-lgt-blue{color: #59B0DB;}\n\t\t.bg-grey {background-color: #E5E4EA;}\n\t\t.bg-blue {background-color: #007EFF;}\n\t</style>\n";class TextBubble extends HTMLDivElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(bubbleTemplate.content.cloneNode(!0))}connectedCallback(){this.bubble=document.createElement("div"),this.shadowRoot.appendChild(this.bubble),"self"==this.attributes.sender.value?this.bubble.classList.add("bg-blue","bubble-right","txt-white"):this.bubble.classList.add("bg-grey"),this.bubble.innerHTML=this.attributes.message.value,this.style.width="100%",this.style.display="inline-block",this.bubble.classList.add("bubble")}set message(e){this.setAttribute("message",e)}get message(){return this.hasAttribute("message")}set sender(e){this.setAttribute("sender",e)}get sender(){return this.hasAttribute("sender")}}customElements.define("text-bubble",TextBubble,{extends:"div"});
